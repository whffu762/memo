<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="js/jquery-3.7.1.min.js"></script>
<script>
	/*
		$.ajax({
			url: 'http://localhost:9996/web6/api', 
			type: 'POST',
			data: JSON.stringify({id : 1}),
			content-type : 'application/json'	//기본값 : application/x-www-form-urlencoded (HTML 보내는 type)
			datatype : 'json'		//서버로부터 받는 데이터 형식 / 기본값 undefined - 서버의 응답 헤더를 통해서 파싱 방식이 결정됨
			headers : { '헤더명' : '값' }, //추가 헤더
			success : function(data) { .. }
			error : function(error) { .. }
		})
	*/

	$(document).ready(function () {
		$('#btn1').click(test1);
		$('#btn2').click(test2);
		$('#btn3').click(test3);
		$('#btn4').click(test4);
		$('#btn5').click(test5);
		$('#btn6').click(test6);
	});
	
	function test1() {
		alert('test1() 함수 실행');
		
		$.ajax({
			url : 'ajaxTest1',
			type : 'get',
			success : function () {
				alert('success');
			},
			error : function(e) {
				alert('fail');
				alert(e.statusText);
			},
			complete : function() {
				alert('complete');
			}
		});
	}
	
	function test2(){
		$.ajax({
			url: 'ajaxTest2',
		    type: 'post',
		    data: { str: '클라이언트에서 보냄'},  //서버에 전송할 데이터
		    success: function(){
		    	alert('실행 성공!');
			},
		    error: function(){
		    	alert('실행 실패..');
		    }
		});
	}
	
	function test3(){
		$.ajax({
			url:'ajaxTest3',
			type:'get',
			dataType: 'text',
			success : function() {
				alert(msg);
			},
			error : function() {
				alert('실행 실패');
			}
		})
	}
	
	function test4(){
		
		let data = {
				num1 : $('#num1').val(),
				num2 : $('#num2').val()
		};
		
		$.ajax({
			url : 'ajaxTest4',
			type : 'post',
			data : data,
			dataType : 'text', //서버로부터 받을 데이터 형식
			success : function (result) {
				$('#num3').val(result);
			},
			error : function(error){
				alert("계산 실패");
			}
		})
	}
	
	function test5(){
		
		let data = {
				num4 : $('#num4').val(),
				num5 : $('#num5').val()
		};
		
		$.ajax({
			url : 'ajaxTest5',
			type : 'post',
			data : data,
			dataType : 'text', //서버로부터 받을 데이터 형식
			success : function (result) {
				$('#num6').val(result);
			},
			error : function(error){
				alert(error.status);  //HTTP 응답 상태 코드
				alert(error.responseText); //응답 본문(텍스트 형태)
			}
		});
	}
	
	function test6(){
		
		let data = {
				num7 : $('#num7').val(),
				num8 : $('#num8').val(),
				op : $('#op').val()
		};
		
		$.ajax({
			url : 'ajaxTest6',
			type : 'post',
			data : data,
			dataType : 'text', //서버로부터 받을 데이터 형식
			success : function (result) {
				$('#num9').val(result);
			},
			error : function(error){
				alert(error.status);  //HTTP 응답 상태 코드
				alert(error.responseText); //응답 본문(텍스트 형태)
			}
		});
	}
</script>
</head>
<body>
	<h1>[ Ajax 테스트 ]</h1>
	
	<section>
		<p>
			<button id="btn1">서버로 Ajax 요청 보내기</button>
			<button id="btn2">서버로 문자열 보내기</button>
			<button id="btn3">서버에서 문자열 보내기</button>
		</p>
	</section>
	
	<section>
		<p><button id="btn4">값 전달하여 계산하기 1</button></p>
		<p>
			<input type="text" id="num1">
			+
			<input type="text" id="num2">
			<input type="text" id="num3" readonly>
		</p>
	</section>
	
	<section>
		<p><button id="btn5">값 전달하여 계산하기 2</button></p>
		<p>
			<input type="text" id="num4">
			/
			<input type="text" id="num5">
			<input type="text" id="num6" readonly>
		</p>
	</section>
	
	<section>
		<p><button id="btn6">값 전달하여 계산하기 3</button></p>
		<p>
			<input type="text" id="num7">
			<input type="text" id="op">
			<input type="text" id="num8">
			<input type="text" id="num9" readonly>
		</p>
	</section>
</body>
</html>